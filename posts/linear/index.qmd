---
title: "Regressão Linear: Anos de Estudo vs Salário"
author: "Harlow Malloc"
date: "2025-11-25"
categories: [news, code, analysis, estatística]
image: "foto-curso-de-matematica.jpg"
format: 
  html:
    code-fold: false
    code-tools: true
    toc: true
---

## Introdução

Este documento apresenta uma análise completa de regressão linear para investigar a relação entre anos de estudo e salário. Utilizamos álgebra linear e a fórmula matricial para calcular os coeficientes da regressão de forma eficiente.

## Fundamentação Teórica

A regressão linear busca encontrar a melhor reta que se ajusta aos dados, minimizando a soma dos quadrados dos resíduos. A equação da reta é:

$$y = a + bx$$

Usando a notação matricial, os coeficientes são calculados por:

$$\beta = (X^T X)^{-1} X^T y$$

## Dados de Exemplo

Primeiro, vamos criar dados de exemplo para a análise:

```{python}
import numpy as np
import plotly.graph_objects as go

# Dados de exemplo: Anos de estudo e Salários correspondentes
dados_x = [8, 10, 11, 12, 13, 14, 15, 16, 17, 18, 20]
dados_y = [2000, 2500, 2700, 3000, 3200, 3500, 3800, 4000, 4300, 4500, 5000]

print("Dados carregados:")
print(f"Anos de estudo: {dados_x}")
print(f"Salários: {dados_y}")
```

## Código de Análise

Abaixo está a implementação completa da função de regressão linear:

```{python}
def f(x_data, y_data):
    """
    Calcula regressão linear usando fórmula matricial e gera gráfico.
    
    Args:
        x_data: Lista ou array com anos de estudo
        y_data: Lista ou array com salários
        
    Returns:
        Tupla com (coeficientes [a, b], figura do Plotly)
    """
    x = np.array(x_data)
    y = np.array(y_data)
    
    n = len(x)
    X = np.column_stack([np.ones(n), x])
    
    # Cálculo usando fórmula matricial
    beta = np.linalg.inv(X.T @ X) @ X.T @ y
    
    a = beta[0]
    b = beta[1]
    
    y_pred = a + b * x
    
    # Criação do gráfico interativo
    fig = go.Figure()
    
    fig.add_trace(go.Scatter(
        x=x,
        y=y,
        mode='markers',
        name='Dados Observados',
        marker=dict(size=10, color='blue')
    ))
    
    fig.add_trace(go.Scatter(
        x=x,
        y=y_pred,
        mode='lines',
        name=f'Regressão: y = {a:.2f} + {b:.2f}x',
        line=dict(color='red', width=2)
    ))
    
    fig.update_layout(
        title='Relação entre Anos de Estudo e Salário',
        xaxis_title='Anos de Estudo',
        yaxis_title='Salário (R$)',
        hovermode='closest',
        template='plotly_white',
        showlegend=True,
        height=500
    )
    
    return [a, b], fig
```

## Execução e Resultados

Agora executamos a análise com os dados de exemplo:

```{python}
# Executa a regressão com os dados
coeficientes, fig = f(dados_x, dados_y)
a, b = coeficientes

print(f"\n{'='*50}")
print(f"RESULTADOS DA REGRESSÃO LINEAR")
print(f"{'='*50}")
print(f"Intercepto (a): {a:.4f}")
print(f"Coeficiente Angular (b): {b:.4f}")
print(f"\nEquação da reta: y = {a:.4f} + {b:.4f}x")
print(f"{'='*50}\n")

# Exibe o gráfico interativo
fig.show()
```

## Interpretação

### Coeficientes

- **Intercepto (a)**: Representa o salário base estimado quando os anos de estudo são zero
- **Coeficiente Angular (b)**: Indica o aumento médio no salário para cada ano adicional de estudo

### Visualização

O gráfico interativo acima mostra:

- **Pontos azuis**: Dados reais observados
- **Linha vermelha**: Modelo de regressão ajustado

A proximidade dos pontos à linha indica a qualidade do ajuste do modelo.

## Conclusão

A análise de regressão linear fornece uma ferramenta poderosa para entender e quantificar a relação entre educação e renda, permitindo fazer previsões e tomar decisões baseadas em dados.